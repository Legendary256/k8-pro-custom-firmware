"use strict";(self.webpackChunkkeyboard=self.webpackChunkkeyboard||[]).push([[595],{595:(te,P,f)=>{f.r(P),f.d(P,{KeyLightModule:()=>Xt});var N=f(762),J=f(5850),x=f(1699),T=f(1049),H=f(8748),b=f(8132),y=f(109),Q=f(2425),K=f(4787),D=f(1209),j=f(1749),k=f(5333),G=f(4354),V=f(7560),U=f(2459);const w=new class Y extends U.K{constructor(){super(window.localStorage)}};var F=f(3494),t=f(755),z=f(7892),O=f(4503),B=f(180),E=f(893),q=f(6894),W=f(8760),$=f(7576),X=f(1568),M=f(6733),L=f(7630),tt=f(5389),et=f(2556),nt=f(638),ot=f(2751),it=f(5782),I=f(1081),rt=f(6726),R=f(3226),ct=f(5216);function at(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2)(5,"nz-slider",3),t.NdJ("ngModelChange",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.speed=o)})("ngModelChange",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.speedChange(o))}),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,4,"light.effect speed")),t.xp6(3),t.Q6J("nzMax",14)("nzMin",1)("ngModel",e.speed)}}function st(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",2)(5,"common-color-picker",7),t.NdJ("nzOnChange",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.colorChange(o))})("ngModelChange",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.color=o)}),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"light.color")),t.xp6(3),t.Q6J("ngModel",e.color)}}const lt=function(){return[2,3,4]},gt=function(){return[1,2]};let ft=(()=>{class i{constructor(e){this.device=e,this.brightness=0,this.brightTimeout=null,this.effect=0,this.color="#f00",this.speed=0,this.speedTimeout=null}ngOnInit(){const e=this.device.getCurrentHidDevice();e?(this.keyboard=e,this.init()):this.device.event$.pipe((0,k.h)(n=>n.type===x.EEventEnum.CONNECT&&n.deviceType===x.DE.Keyboard)).subscribe(()=>{this.keyboard=this.device.getCurrentHidDevice(),this.init()})}brightnessChange(e){this.brightTimeout&&clearTimeout(this.brightTimeout),this.brightTimeout=setTimeout(()=>{this.keyboard.feature.decorateLight.setBrightness(e).subscribe()},500)}effectChange(e){this.keyboard.feature.decorateLight.setEffect(e).subscribe()}init(){this.keyboard.feature.decorateLight.getBrightness().subscribe(e=>{this.brightness=e}),this.keyboard.feature.decorateLight.getEffect().subscribe(e=>{this.effect=e}),this.keyboard.feature.decorateLight.getColor().subscribe(e=>{this.color="#"+e.toHex()}),this.keyboard.feature.decorateLight.getSpeed().subscribe(e=>{this.speed=e})}colorChange(e){const n=e.color.toHsv(),o=Math.round(n.h/360*255),c=Math.round(255*n.s);this.keyboard.feature.decorateLight.setColor(o,c).subscribe()}speedChange(e){this.speedTimeout&&clearTimeout(this.speedTimeout),this.speedTimeout=setTimeout(()=>{this.keyboard.feature.decorateLight.setSpeed(e).subscribe()},500)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(z.E))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["decorate-light"]],decls:25,vars:34,consts:[[1,"light-section"],[1,"setting-wrapper"],[1,"item-wrapper"],["nzTooltipVisible","never",3,"nzMax","nzMin","ngModel","ngModelChange"],[2,"width","100%",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue"],["class","setting-wrapper",4,"ngIf"],["nzFormat","hex",3,"ngModel","nzOnChange","ngModelChange"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",2)(6,"nz-slider",3),t.NdJ("ngModelChange",function(r){return o.brightness=r})("ngModelChange",function(r){return o.brightnessChange(r)}),t.qZA()()(),t.TgZ(7,"div",1)(8,"span"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",2)(12,"nz-select",4),t.NdJ("ngModelChange",function(r){return o.effect=r})("ngModelChange",function(r){return o.effectChange(r)}),t._UZ(13,"nz-option",5),t.ALo(14,"translate"),t._UZ(15,"nz-option",5),t.ALo(16,"translate"),t._UZ(17,"nz-option",5),t.ALo(18,"translate"),t._UZ(19,"nz-option",5),t.ALo(20,"translate"),t._UZ(21,"nz-option",5),t.ALo(22,"translate"),t.qZA()()(),t.YNc(23,at,6,6,"div",6),t.YNc(24,st,6,4,"div",6),t.qZA()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,18,"light.brightness")),t.xp6(3),t.Q6J("nzMax",255)("nzMin",0)("ngModel",o.brightness),t.xp6(3),t.Oqu(t.lcZ(10,20,"light.effect")),t.xp6(3),t.Q6J("ngModel",o.effect),t.xp6(1),t.Q6J("nzLabel",t.lcZ(14,22,"light.decorate_light.0"))("nzValue",0),t.xp6(2),t.Q6J("nzLabel",t.lcZ(16,24,"light.decorate_light.1"))("nzValue",1),t.xp6(2),t.Q6J("nzLabel",t.lcZ(18,26,"light.decorate_light.2"))("nzValue",2),t.xp6(2),t.Q6J("nzLabel",t.lcZ(20,28,"light.decorate_light.3"))("nzValue",3),t.xp6(2),t.Q6J("nzLabel",t.lcZ(22,30,"light.decorate_light.4"))("nzValue",4),t.xp6(2),t.Q6J("ngIf",t.DdM(32,lt).includes(o.effect)),t.xp6(1),t.Q6J("ngIf",t.DdM(33,gt).includes(o.effect)))},dependencies:[I.Ip,I.Vq,rt.jS,M.O5,R.JJ,R.On,ct.h,O.X$],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-user-select:none;user-select:none;min-width:400px;min-height:1000px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:none;border-radius:1px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#535353;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#424242}.g-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:10px}.g-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:1px;background:none}.g-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#535353}.g-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:window-inactive{background:rgba(128,128,128,.4)}.g-flex[_ngcontent-%COMP%]{display:flex}.g-block[_ngcontent-%COMP%]{display:block}.g-none[_ngcontent-%COMP%]{display:none}.g-flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.g-flex-row[_ngcontent-%COMP%]{flex-direction:row}.g-flex-col[_ngcontent-%COMP%]{flex-direction:column}.g-item-center[_ngcontent-%COMP%]{align-items:center}.g-item-start[_ngcontent-%COMP%]{align-items:flex-start}.g-item-end[_ngcontent-%COMP%]{align-items:flex-end}.g-item-stretch[_ngcontent-%COMP%]{align-items:stretch}.g-justify-start[_ngcontent-%COMP%]{justify-content:flex-start}.g-justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.g-justify-center[_ngcontent-%COMP%]{justify-content:center}.g-justify-between[_ngcontent-%COMP%]{justify-content:space-between!important}g-justify-stretch[_ngcontent-%COMP%]{justify-content:stretch}.g-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.scroll-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column}.scroll-container[_ngcontent-%COMP%] > .scroll-content[_ngcontent-%COMP%]{flex:1 1 0;height:0;overflow:auto}  .anticon-down{color:#fff}  .ant-select{font-size:.765rem;min-width:80px!important}  .ant-select-item{color:#fff!important;padding:.176rem .588rem;font-size:.765rem;height:1.765rem!important}  .ant-select-dropdown{background:#182533!important;border:none!important;color:#fff!important}  .ant-select-selector{background:#979797!important;border:none!important;color:#fff!important;height:1.765rem!important;padding:0 .588rem!important}  .ant-select-single .ant-select-selector .ant-select-selection-item,   .ant-select-single .ant-select-selector .ant-select-selection-placeholder{line-height:1.765rem}  .ant-select-item-option-selected,   .ant-select-item-option-active{background:#6c5dd2!important;color:#fff!important}  .cdk-virtual-scrollable{min-height:1.765rem!important;max-height:21.765rem}  .ant-tabs{width:100%;height:100%;-webkit-user-select:none;user-select:none}  .ant-tabs-ink-bar{display:none}  .ant-tabs-top>.ant-tabs-nav:before{display:none}  .ant-tabs-tab{padding:1.28rem 0}  .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:#151718!important;background:#f3f3f3!important}  .ant-tabs-tab+.ant-tabs-tab{margin-left:.64rem!important}  .ant-tabs-tab-btn{color:#ccc;padding:.21rem 1.93rem!important;border-radius:5px;font-size:.824rem;border:1px solid #2b2f30;position:relative}  .ant-tabs-nav{margin-bottom:0!important}  .ant-tabs-content{height:100%}  .ant-slider-handle{border-color:#2b2f30!important;background:#ff7249!important}  .ant-slider-track{background-color:#ff7249!important}  .ant-popover-inner{background:rgb(24,37,51)}  .ant-color-picker-input-container{display:none!important}  .ant-color-picker-slider-container{margin-bottom:8px}  .ant-color-picker-slider-container .ant-color-picker-color-block,   .ant-color-picker-slider-container .ant-color-picker-alpha-input{display:none!important}  .ant-color-picker-inline,   .ant-color-picker-color-block{width:1.882rem!important;height:1.882rem!important}  .ant-color-picker-panel{width:14.118rem!important}  .ant-color-picker-select .ant-color-picker-palette{min-height:9.412rem}  .ant-color-picker-slider .ant-color-picker-palette{height:.86rem}  .ant-color-picker-slider-alpha{display:none}  .ant-color-picker-handler-sm{width:1.28rem;height:1.28rem}  .ant-switch-checked{background:#ff7249}  .ant-switch{font-size:.765rem;border-radius:10.71rem}  .ant-switch-small{min-width:1.588rem;height:15px;line-height:15px}  .ant-switch-small .ant-switch-handle{width:.706rem;height:.706rem;top:.133rem}  .ant-switch-small .ant-switch-inner{margin:0 .54rem 0 .882rem;font-size:.647rem}  .ant-switch-handle:before{border-radius:.96rem;box-shadow:0 .21rem .43rem #00230b33}  .ant-switch-small.ant-switch-checked .ant-switch-inner{margin:0 1rem 0 .294rem}  .ant-switch-small.ant-switch-checked .ant-switch-handle{left:calc(100% - .882rem)}.global-table-wrapper[_ngcontent-%COMP%]{padding:40px}  .ant-table-thead>tr>th,   .ant-table,   .ant-table-tbody>tr.ant-table-placeholder:hover>td{background:rgb(24,37,51)!important;border-bottom-color:#6c5dd2!important;color:#fefefe}  .ant-empty-description{color:#fefefe}  .ant-table-tbody>tr>td,   .ant-table-tbody>tr.ant-table-placeholder:hover>td{border-bottom-color:transparent!important}  .ant-table-tbody>tr.ant-table-row:hover>td,   .ant-table-tbody>tr>td.ant-table-cell-row-hover{background:#151718}  .ant-progress{line-height:0}  .ant-progress-bg{height:.471rem}  .ant-progress-line{font-size:1.5rem}  .ant-btn-sm{height:2.57rem;padding:0 .75rem;font-size:1.5rem}  .ant-radio-wrapper,   .ant-radio-disabled+span{color:#747474}  .ant-radio-inner{background:#151718!important;border-color:#2b2f30!important}  .ant-radio-checked .ant-radio-inner:after{display:none!important}  .ant-radio-checked .ant-radio-inner{border-color:#ff7249!important;border-width:.32rem}  .ant-checkbox-wrapper,   .ant-checkbox-disabled+span{color:#747474}  .ant-checkbox+span{color:#747474;outline:none}  .ant-checkbox-inner{background-color:#151718;border-color:#252a2a}  .ant-checkbox-inner:focus{border-color:#fff!important}  .ant-checkbox-wrapper:hover .ant-checkbox-inner,   .ant-checkbox:hover .ant-checkbox-inner,   .ant-checkbox-input:focus+.ant-checkbox-inner{border-color:#252a2a}  .ant-checkbox:hover:after,   .ant-checkbox-wrapper:hover .ant-checkbox:after{border:none}  .ant-checkbox-checked .ant-checkbox-inner{background-color:#ff7249;border-color:#ff7249}  .ant-modal-header,   .ant-modal-content{background:#8c8c8c!important}  .ant-modal-title{color:#fff;text-align:center}  .ant-modal-close-x{display:none}  .ant-modal-header{border-color:#c0c1c3}  .ant-modal-footer{border-color:#8c8c8c}  .ant-pagination-item-link{color:#ccc!important}  .ant-popover-message-title{color:#ccc}.g-shining[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_g-shining-animate;animation-timing-function:linear;animation-iteration-count:infinite;animation-duration:2s}@keyframes _ngcontent-%COMP%_g-shining-animate{0%{opacity:1;border:1px solid #ff7249}50%{opacity:.3;border:1px solid #ff7249}to{opacity:1;border:1px solid #ff7249}}  .ant-radio-wrapper,   .ant-radio{font-size:.765rem}  .ant-modal-confirm-body .ant-modal-confirm-content{color:#ccc}  .ant-tooltip-inner{min-width:1.765rem;min-height:1.882rem;padding:.353rem .471rem;font-size:.824rem}  .ant-message,   .ant-message .anticon{font-size:1.059rem}  .ant-message-notice{padding:.471rem}  .ant-message-notice-content{padding:.588rem .941rem}  .ant-btn-sm{height:1.57rem;padding:0 .75rem;font-size:1rem}.tutorialTip[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{background:none!important;padding:0!important}@media only screen and (max-width: 1920px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-size:15px}}@media only screen and (min-width: 1921px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-size:18px}}@media only screen and (max-width: 780px){.resolution-hide[_ngcontent-%COMP%]{display:none!important}}.tip-class[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{width:500px!important;background:#393C41!important}.g-btn-blue[_ngcontent-%COMP%]{background:#007cf9;color:#fff;padding:5px 10px;border-radius:5px;cursor:pointer;transition:all .2s linear;opacity:1}.g-btn-blue[_ngcontent-%COMP%]:hover{opacity:.5}.g-btn-orange[_ngcontent-%COMP%]{background:#ff7249;color:#fff;padding:5px 10px;border-radius:5px;cursor:pointer;transition:all .2s linear;opacity:1}.g-btn-orange[_ngcontent-%COMP%]:hover{opacity:.5}.g-confirm-normal[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%]{font-size:1.333rem;display:flex;flex-direction:row;justify-content:left;align-items:center}.g-confirm-normal[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(1){color:#fff;font-size:1.667rem;margin-right:1.067rem}.g-confirm-normal[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2){color:#fff}.g-confirm-normal[_ngcontent-%COMP%] > .g-confirm-success-body[_ngcontent-%COMP%]{margin-top:1.067rem;margin-left:2.867rem;box-sizing:border-box;color:#fff}.g-confirm-success[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%]{font-size:1.333rem;display:flex;flex-direction:row;justify-content:left;align-items:center}.g-confirm-success[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(1){color:#00fe44;font-size:1.667rem;margin-right:1.067rem}.g-confirm-success[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2){color:#fff}.g-confirm-success[_ngcontent-%COMP%] > .g-confirm-success-body[_ngcontent-%COMP%]{margin-top:1.067rem;margin-left:2.867rem;box-sizing:border-box;color:#fff}.g-confirm-notification[_ngcontent-%COMP%]{border-radius:1rem;padding:0 22px}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-content[_ngcontent-%COMP%]{border-radius:1rem}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-content[_ngcontent-%COMP%] > .g-confirm-notification-title[_ngcontent-%COMP%]{font-size:1.333rem;display:flex;justify-content:center;color:#fff;font-weight:600;border-bottom:1px solid #ccc;padding-bottom:10px}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-content[_ngcontent-%COMP%] > .g-confirm-notification-body[_ngcontent-%COMP%]{margin:2.3rem .666rem 0;box-sizing:border-box;color:#fff}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-footer[_ngcontent-%COMP%]{padding:.666rem 0}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-footer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-radius:1rem}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-footer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{margin-left:1rem}.g-confirm-notification[_ngcontent-%COMP%]   .ant-modal-content[_ngcontent-%COMP%]{border-radius:1rem}.g-confirm-notification[_ngcontent-%COMP%]   .ant-modal-close-x[_ngcontent-%COMP%]{display:block!important;color:#fff;font-size:20px}.g-text-overflow[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.light-section[_ngcontent-%COMP%]{width:20.588rem;margin-bottom:.882rem}.light-section[_ngcontent-%COMP%] > .setting-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;width:100%;margin-bottom:.882rem}.light-section[_ngcontent-%COMP%] > .setting-wrapper[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#fff;margin-right:1.176rem;display:inline-block;width:4.706rem;font-size:.765rem}.light-section[_ngcontent-%COMP%] > .setting-wrapper[_ngcontent-%COMP%] > .item-wrapper[_ngcontent-%COMP%]{flex:1}.light-not-support[_ngcontent-%COMP%]{flex:1 1 0;color:#f3f3f3;display:flex;flex-direction:row;justify-content:center;align-items:center}.rgb-key[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;border-radius:5px}.rgb-save[_ngcontent-%COMP%]{text-align:center;padding:.333rem .667rem;background:#ff7249;margin-top:1.333rem;border-radius:.333rem;display:inline-block;cursor:pointer;transition:all .2s linear}.rgb-save[_ngcontent-%COMP%]:hover{opacity:.5}']})}return i})();const dt=["baseLayoutComponent"],pt=["perKeyRgbComponent"],mt=["lightNormalComponent"],ht=["mixRgbComponent"],bt=["scrollableDiv"];function _t(i,d){}const ut=function(i,d){return{borderColor:i,border:d}};function Ct(i,d){if(1&i&&t._UZ(0,"div",9),2&i){const e=t.oxw().keyConf,n=t.oxw();t.Akn(t.WLB(2,ut,n.getColor(e).rgb?n.getColor(e).rgb:"unset",n.getColor(e).rgb?"":"unset"))}}const Z=function(i){return{background:i}};function xt(i,d){if(1&i&&t._UZ(0,"div",10),2&i){const e=t.oxw().keyConf,n=t.oxw();t.Akn(t.VKq(2,Z,n.getRegion(e).background))}}function yt(i,d){if(1&i&&(t.YNc(0,Ct,1,5,"div",7),t.YNc(1,xt,1,4,"div",8)),2&i){const e=d.keyConf,n=t.oxw();t.Q6J("ngIf",n.getColor(e)&&23===n.model.effect&&void 0===e.ei),t.xp6(1),t.Q6J("ngIf",24===n.model.effect&&null!==n.getRegion(e).region)}}function vt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",22),t.NdJ("click",function(o){t.CHM(e);const c=t.oxw().index,r=t.oxw(3);return t.KtG(r.delLight(c,o))}),t._UZ(1,"span",23),t.qZA()}}const Mt=function(i){return{boxShadow:i}},kt=function(i){return{"left-item-active-checkLight":i}},wt=function(i){return{fontWeight:i}};function Ot(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",18),t.YNc(1,vt,2,0,"div",19),t.TgZ(2,"div",20),t.NdJ("click",function(o){const c=t.CHM(e),r=c.$implicit,l=c.index,g=t.oxw(3);return t.KtG(g.checkLight(r,l,o))}),t.TgZ(3,"div"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"div",21),t.qZA()()}if(2&i){const e=d.$implicit,n=d.index,o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",o.checkLightIdx===n),t.xp6(1),t.Akn(t.VKq(11,Mt," 0 0 5px 2px"+(null==e?null:e.color))),t.Q6J("ngClass",t.VKq(13,kt,o.checkLightIdx===n)),t.xp6(2),t.AsE("",t.lcZ(5,9,"light.layer2"),"",n+1,""),t.xp6(2),t.Akn(t.VKq(15,Z,null==e?null:e.color)),t.Q6J("ngStyle",t.VKq(17,wt,o.checkLightIdx===n?"bolder":null))}}function Pt(i,d){if(1&i&&(t.TgZ(0,"div",15,16),t.YNc(2,Ot,7,19,"div",17),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.nowSelectKeyEffect)}}const Tt=function(i){return{"left-item-active":i}},Kt=function(i){return{"left-item-active-purple":i}};function zt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",24)(1,"div",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.switchLayer(0))}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.switchLayer(1))}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(8,Tt,0===e.layer)),t.xp6(1),t.hij(" ",t.lcZ(3,4,"light.layer2")," 1 "),t.xp6(2),t.Q6J("ngClass",t.VKq(10,Kt,1===e.layer)),t.xp6(1),t.hij(" ",t.lcZ(6,6,"light.layer2")," 2 ")}}const S=function(i,d,e){return{"save-show":i,allowedColor:d,notAllowedColor:e}};function Et(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",27),t.NdJ("click",function(o){t.CHM(e);const c=t.oxw(2);return t.KtG(c.savePerkey(o))}),t._uU(2),t.ALo(3,"translate"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.kEZ(4,S,!e.perkeySubmit,e.perkeySubmit,!e.perkeySubmit)),t.xp6(1),t.hij(" ",t.lcZ(3,2,"common.save")," ")}}function Lt(i,d){if(1&i&&(t.TgZ(0,"div",11),t.YNc(1,Pt,3,1,"div",12),t.YNc(2,zt,7,12,"div",13),t.YNc(3,Et,4,8,"div",14),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",23===e.model.effect),t.xp6(1),t.Q6J("ngIf",24===e.model.effect),t.xp6(1),t.Q6J("ngIf",23===e.model.effect&&e.perKeyRgbComponent.enableConfValue)}}function It(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.saveRegion())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"common.save")," "))}const Rt=function(i){return{"save-show":i}};function Zt(i,d){if(1&i&&(t.TgZ(0,"div",30),t.YNc(1,It,3,3,"div",31),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,Rt,e.regionSubmit)),t.xp6(1),t.Q6J("ngIf",e.selectKeys2&&e.selectKeys2.length)}}function St(i,d){1&i&&(t.TgZ(0,"div",39)(1,"p"),t._UZ(2,"i",40),t.TgZ(3,"b"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"translate"),t.qZA()()),2&i&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"light.perkey.clear_all")),t.xp6(3),t.hij("",t.lcZ(8,4,"light.perkey.affirm_clear_all"),"?"))}function At(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.handleOk())}),t._uU(1),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.handleCancel())}),t._uU(4),t.ALo(5,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,2,"common.key_confirm")," "),t.xp6(3),t.hij(" ",t.lcZ(5,4,"common.cancel")," "))}function Nt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",43),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.showResetAllKeysModal())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"light.perkey.clear_all")," "))}function Jt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",43),t.NdJ("click",function(o){t.CHM(e);const c=t.oxw(3);return t.KtG(c.savePerkey(o,2))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"common.reset")," "))}function Ht(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",27),t.NdJ("click",function(o){t.CHM(e);const c=t.oxw(3);return t.KtG(c.savePerkey(o))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&i){const e=t.oxw(3);t.Q6J("ngClass",t.kEZ(4,S,!e.perkeySubmit,e.perkeySubmit,!e.perkeySubmit)),t.xp6(1),t.hij(" ",t.lcZ(2,2,"common.save")," ")}}function Qt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",33)(1,"nz-modal",34),t.NdJ("nzOnCancel",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.handleCancel())})("nzVisibleChange",function(o){t.CHM(e);const c=t.oxw(2);return t.KtG(c.isVisible=o)}),t.YNc(2,St,9,6,"ng-template",null,35,t.W1O),t.YNc(4,At,6,6,"ng-template",null,36,t.W1O),t.qZA(),t.YNc(6,Nt,3,3,"div",37),t.YNc(7,Jt,3,3,"div",37),t.YNc(8,Ht,3,8,"div",38),t.qZA()}if(2&i){const e=t.MAs(3),n=t.MAs(5),o=t.oxw(2),c=t.MAs(1);t.xp6(1),t.Q6J("nzVisible",o.isVisible)("nzContent",e)("nzFooter",n),t.xp6(5),t.Q6J("ngIf",o.nowSelectKeyEffect.length),t.xp6(1),t.Q6J("ngIf",o.selectKeys.length||c.activeKey.length),t.xp6(1),t.Q6J("ngIf",o.perKeyRgbComponent.enableConfValue)}}function Dt(i,d){if(1&i&&(t.YNc(0,Zt,2,4,"div",28),t.YNc(1,Qt,9,6,"div",29)),2&i){const e=t.oxw();t.Q6J("ngIf",24===e.model.effect&&e.mixRgbComponent.enableConfValue),t.xp6(1),t.Q6J("ngIf",23===e.model.effect)}}function jt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"nz-tab",48),t.ALo(1,"translate"),t.TgZ(2,"per-key-rgb",52,53),t.NdJ("cancelLight",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.cancelLight())})("checkLight",function(o){t.CHM(e);const c=t.oxw(3);return t.KtG(c.checkLights(o))})("enableEffect",function(o){t.CHM(e);const c=t.oxw(3);return t.KtG(c.changeTabEffect(o))})("layerEvent",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.layerEvent())})("update",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.update())})("updateNowSelectKeyEffect",function(o){t.CHM(e);const c=t.oxw(3);return t.KtG(c.updateNowSelectKeyEffect(o))})("updateRgbConf",function(o){t.CHM(e);const c=t.oxw(3);return t.KtG(c.updateRgbConf(o))}),t.qZA()()}if(2&i){const e=t.oxw(3),n=t.MAs(1);t.Q6J("nzTitle",t.lcZ(1,10,"light.tabs.perkey_rgb")),t.xp6(2),t.Q6J("model",e.model)("bComponent",n)("checkLightIdx",e.checkLightIdx)("device",e.device)("enableType",e.enableType)("nowSelectKeyEffect",e.nowSelectKeyEffect)("rgbConf",e.rgbConf)("selectKeys2",e.selectKeys2)("selectKeys",e.selectKeys)}}function Gt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"nz-tab",48),t.ALo(1,"translate"),t.TgZ(2,"mix-rgb",54,55),t.NdJ("enableEffect",function(o){t.CHM(e);const c=t.oxw(3);return t.KtG(c.changeTabEffect(o))})("profile",function(o){t.CHM(e);const c=t.oxw(3);return t.KtG(c.profileChange(o))}),t.qZA()()}if(2&i){const e=t.oxw(3);t.Q6J("nzTitle",t.lcZ(1,6,"light.tabs.mix_rgb")),t.xp6(2),t.Q6J("device",e.device)("enableType",e.enableType)("lightEffectEnums",e.lightEffectEnums)("matrix",e.mixRgbConf)("region",e.layer)}}function Vt(i,d){if(1&i&&(t.TgZ(0,"nz-tab",48),t.ALo(1,"translate"),t._UZ(2,"light-indication",56),t.qZA()),2&i){const e=t.oxw(3);t.Q6J("nzTitle",t.lcZ(1,3,"light.tabs.indication")),t.xp6(2),t.Q6J("device",e.device)("indication",e.indication)}}function Ut(i,d){1&i&&(t.TgZ(0,"nz-tab",48),t.ALo(1,"translate"),t._UZ(2,"decorate-light"),t.qZA()),2&i&&t.Q6J("nzTitle",t.lcZ(1,1,"light.tabs.decorate_light"))}function Yt(i,d){if(1&i){const e=t.EpF();t.TgZ(0,"div",46)(1,"nz-tabset",47),t.NdJ("nzSelectChange",function(o){t.CHM(e);const c=t.oxw(2);return t.KtG(c.tabChange(o))}),t.TgZ(2,"nz-tab",48),t.ALo(3,"translate"),t.TgZ(4,"light-normal",49,50),t.NdJ("update",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.update())}),t.qZA()(),t.YNc(6,jt,4,12,"nz-tab",51),t.YNc(7,Gt,4,8,"nz-tab",51),t.YNc(8,Vt,3,5,"nz-tab",51),t.YNc(9,Ut,3,3,"nz-tab",51),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("nzSelectedIndex",e.tabSelectIndex),t.xp6(1),t.Q6J("nzTitle",t.lcZ(3,11,"light.tabs.selection")),t.xp6(2),t.Q6J("device",e.device)("lightEffectEnums",e.lightEffectEnums)("model",e.model)("rgbConf",e.rgbConf)("selectKeys",e.selectKeys),t.xp6(2),t.Q6J("ngIf",e.supportRgb),t.xp6(1),t.Q6J("ngIf",e.supportRgb),t.xp6(1),t.Q6J("ngIf",e.supportIndicate),t.xp6(1),t.Q6J("ngIf",e.supportDecorate)}}function Ft(i,d){1&i&&(t.TgZ(0,"div",57),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"light.notSupport")," "))}function Bt(i,d){if(1&i&&(t.YNc(0,Yt,10,13,"div",44),t.YNc(1,Ft,3,3,"div",45)),2&i){const e=t.oxw();t.Q6J("ngIf",e.lightEffectEnums.length>0),t.xp6(1),t.Q6J("ngIf",!e.lightEffectEnums.length)}}const qt=function(){return[23,24]},Wt=function(){return[3,4]},$t=[{path:"",component:(()=>{class i{constructor(e,n,o,c,r){this.keyboardService=e,this.i18n=n,this.msg=o,this.cdr=c,this.modal=r,this.hidDevices=[],this.currentHidDeviceId=0,this.layer=0,this.supportRgb=!1,this.supportIndicate=!1,this.supportDecorate=!1,this.model={bright:0,speed:0,effect:0,color:new T.Il({r:255,g:0,b:0}),uBright:0,uSpeed:0,uEffect:0},this.rgbSupport=!1,this.lightEffectEnums=[],this.rgbConf=[],this.selectKeys=[],this.selectKeys2=[],this.mixRgbConf=[],this.regionSubmit=!1,this.enableType=-1,this.nowSelectKeyEffect=[],this.checkLightIdx=-1,this.tabSelectIndex=0,this.selectAllKey=!0,this.isVisible=!1,this.effectType=-1,this.destroy$=new H.x,this.valid=!0}get perkeySubmit(){if(this.perKeyRgbComponent.ensureChange)return!0;if(3===this.perKeyRgbComponent.opt&&-1!==this.checkLightIdx&&this.nowSelectKeyEffect.length>0){let e=JSON.stringify(this.nowSelectKeyEffect[this.checkLightIdx].key);return this.selectKeys2.length>0&&e!==JSON.stringify(this.selectKeys2)}return this.selectKeys2.length>0&&this.perKeyRgbComponent.isChangeEffect}updateNowSelectKeyEffect(e){this.nowSelectKeyEffect=[...e],setTimeout(()=>{for(let n=0;n<this.nowSelectKeyEffect.length;n++)"#000000"===this.nowSelectKeyEffect[n].color&&this.nowSelectKeyEffect.splice(n,1);w.set("nowSelectKeyEffect",JSON.stringify(e))},800)}ngOnInit(){this.hidDevices=this.keyboardService.getHidDevices(),this.hidDevices.length&&this.getLightConf(),this.hidConnectEvent()}getNowSelectKeyEffect(){const e=w.get("nowSelectKeyEffect")?JSON.parse(w.get("nowSelectKeyEffect")):[],n=[];e.forEach(o=>{n.push(o.color)}),this.nowSelectKeyEffect=e}containsAllElements(e,n){for(let o=0;o<n.length;o++)if(!e.includes(n[o]))return!1;return!0}getLightConf(){this.hidDeviceInit(),this.sub&&this.sub.unsubscribe()}update(){this.initHidConf()}translate(e){return this.i18n.instant(e)}initHidConf(){const n=r=>new b.y(l=>{this.device.getLightBrightness().subscribe(g=>l.next({...r,bright:g}))}),o=r=>new b.y(l=>{this.device.getLightSpeed().subscribe(g=>l.next({...r,speed:g}))}),c=r=>new b.y(l=>{this.device.getLightRgb().subscribe(g=>l.next({...r,color:g}))});(()=>new b.y(r=>{const l=this.device.getLightEffect().subscribe(g=>{r.next({effect:g}),l.unsubscribe()})}))().pipe((0,y.b)(r=>n(r)),(0,y.b)(r=>o(r)),(0,y.b)(r=>c(r))).subscribe(r=>{this.model={bright:r.bright,speed:r.speed,effect:r.effect,color:r.color,uBright:r.bright,uSpeed:r.speed,uEffect:r.effect},console.log("this.model",this.model),this.enableType=r.effect,23===r.effect?(this.effectType=23,this.tabSelectIndex=1,this.initWithRgb(),setTimeout(()=>{this.perKeyRgbComponent&&(this.getNowSelectKeyEffect(),this.perKeyRgbComponent.enableConfValue=!0,this.mixRgbComponent&&(this.mixRgbComponent.enableConfValue=!1),this.resetArea())},800)):24===r.effect?(this.effectType=24,this.tabSelectIndex=2,this.initWithMixRgb(),setTimeout(()=>{this.mixRgbComponent&&(this.mixRgbComponent.enableConfValue=!0),this.perKeyRgbComponent&&(this.perKeyRgbComponent.enableConfValue=!1,this.perKeyRgbComponent.isChangeEffect=!1)},500)):(this.perKeyRgbComponent&&(this.perKeyRgbComponent.enableConfValue=!1,this.perKeyRgbComponent.isChangeEffect=!1),this.mixRgbComponent&&(this.mixRgbComponent.enableConfValue=!1)),this.baseLayoutComponent.activeKey=[],this.selectKeys=[],this.selectKeys2=[]})}resetArea(){let n,e=sessionStorage.getItem("keyInformation");n=e?JSON.parse(e):[],n.forEach(a=>{let s=a.key.row,p=a.key.col;a.color=this.rgbConf[s][p].rgb,a.sign=this.rgbConf[s][p].index});let o={};for(let a=0;a<n.length;a++)n[a].color&&(o[n[a].color]?o[n[a].color].push(n[a]):o[n[a].color]=[n[a]]);let c=(new Date).getTime(),r=[];for(let a in o)r.push({color:"",key:[],date:null}),o[a].forEach((s,p)=>{r[r.length-1].color=s.color,r[r.length-1].date||(r[r.length-1].date=c+p),r[r.length-1].key.push({index:s.index,key:s.key})});r=r.sort((a,s)=>a.key.length<s.key.length?-1:a.key.length>s.key.length?1:a.color<s.color?-1:a.color>s.color?1:0),this.nowSelectKeyEffect=this.nowSelectKeyEffect.sort((a,s)=>a.key.length<s.key.length?-1:a.key.length>s.key.length?1:a.color<s.color?-1:a.color>s.color?1:0);let l=[],g=[];for(let a=0;a<r.length;a++)l.push(r[a].key.length);l.sort((a,s)=>a-s);for(let a=0;a<this.nowSelectKeyEffect.length;a++)g.push(this.nowSelectKeyEffect[a].key.length);if(g.sort((a,s)=>a-s),console.log("arr",l),console.log("arr2",g),console.log("areaArr",r),console.log(" this.nowSelectKeyEffect",JSON.parse(JSON.stringify(this.nowSelectKeyEffect))),JSON.stringify(l)!==JSON.stringify(g))this.nowSelectKeyEffect=r,this.updateNowSelectKeyEffect(r);else{let a=JSON.parse(JSON.stringify(this.nowSelectKeyEffect));for(let s=0;s<l.length;s++)a[s].key.length===r[s].key.length&&(a[s].color=r[s].color);a=a.sort((s,p)=>s.date-p.date),this.nowSelectKeyEffect=a,this.updateNowSelectKeyEffect(a),console.log("tempKeyEffect",a)}}initWithRgb(){const e=r=>new b.y(l=>{let g=[],a=r,s=0;const p=()=>{this.device.feature.rgb.getLedColor(s,a>=9?9:a).subscribe(h=>{g=g.concat(h);const m=a>=9?9:a;a-=m,s+=m,0!==a?p():l.next(g)})};p()}),n=this.keyboardService.getCurrentHidDevice(),c=r=>new b.y(l=>{this.device.feature.rgb.getAllLedNumber().pipe((0,Q.U)(g=>((r,l)=>{const g=n.definition.layouts.keys,{cols:a,rows:s}=n.definition.matrix;return(0,F.cL)(s,a,0).map((h,m)=>h.map((u,_)=>r[m][_])).map((h,m)=>h.map((u,_)=>{const C=g.find(A=>A.row===m&&A.col===_);let v={index:-1,rgb:null};return C&&(v.index=void 0===C.ei?u:-2,v.rgb=-2===v.index?null:l[u]),v}))})(g,r))).subscribe(g=>{l.next(g)})});if(this.supportRgb){if(!this.valid)return!1;const r=this.device.feature.rgb.getLedCount().pipe((0,K.w)(l=>e(l)),(0,K.w)(l=>c(l)),(0,V.K)(l=>(0,D.of)(null)),(0,j.R)(this.destroy$)).subscribe(l=>{this.rgbConf=l,this.uniqueColor=this.getKeyboardUniqueColor(l),r.unsubscribe()});this.valid=!1,setTimeout(()=>{this.valid=!0},500)}}ngOnDestroy(){this.sub&&this.sub.unsubscribe(),this.destroy$.next(),this.destroy$.complete()}getColor({col:e,row:n}){if(this.rgbConf.length){let o=this.rgbConf[n][e];if(o)return("#000"===o.rgb||"#000000"===o.rgb)&&(o.rgb=null),o}return null}getFontColor({col:e,row:n}){return this.rgbConf.length&&this.rgbConf[n][e]?this.rgbConf[n][e]:null}getRegion({col:e,row:n}){if(this.mixRgbConf.length&&this.mixRgbConf[n][e]){const{region:o,index:c}=this.mixRgbConf[n][e];if(o===this.layer)return{region:o+1,index:c,background:0===o?"#FF8040":"#6c5dd2"}}return{region:null,background:null,index:null}}selectKey(e){0===this.selectKeys.length&&this.perKeyRgbComponent&&3===this.perKeyRgbComponent.opt&&setTimeout(()=>{0===this.baseLayoutComponent.activeKey.length&&(this.checkLightIdx=-1,this.perKeyRgbComponent.opt=-1)}),this.selectKeys=e,23===this.model.effect&&this.initWithRgb(),24===this.model.effect&&this.canSubmitRegion()}selectKey2(e){this.selectKeys2=[...e]}switchLayer(e){this.layer=e}initWithMixRgb(){const e=r=>new b.y(l=>{const g=this.device.feature.mixRgb.getLedCount().subscribe(a=>{l.next([r,a]),g.unsubscribe()})}),n=r=>new b.y(l=>{let s=[];const p=(h,m,u)=>{if(h<=0)l.next(s);else{const _=Math.min(29,h),C=this.device.feature.mixRgb.getLedRegion(m,_).subscribe(v=>{s=s.concat(v),p(h-_,m+_,u+1),C.unsubscribe()})}};p(r[1],0,1)}),o=r=>new b.y(l=>{this.device.feature.mixRgb.getAllLedNumber().subscribe(g=>{l.next(g.map(a=>a.map(s=>({index:s,region:s>-1?r[s]:s}))))})});if(!this.valid)return!1;const c=this.device.feature.mixRgb.getInfo().pipe((0,y.b)(r=>e(r)),(0,y.b)(r=>n(r)),(0,y.b)(r=>o(r))).subscribe(r=>{this.mixRgbConf=r,console.log("this.mixRgbConf",this.mixRgbConf),c.unsubscribe()});this.valid=!1,setTimeout(()=>{this.valid=!0},500)}canSubmitRegion(){const e=this.selectKeys.filter(n=>!!this.mixRgbConf.length&&this.mixRgbConf[n.row][n.col].region!==this.layer);this.regionSubmit=!!e.length}saveRegion(){this.regionSubmit&&this.save()}profileChange(e){const n=w.get(`mixConf-${this.device.id}`);if(n){const o=JSON.parse(n),c=-1===e.index?0:e.index;this.mixRgbConf=o[c].matrix,e.save&&this.save(()=>{const r=o[c].region;let l=0;const g=()=>{const a=r.shift();this.device.feature.mixRgb.setMixConf(l,0,a).subscribe(()=>{r.length?(l++,g()):(this.msg.success(this.i18n.instant("notify.success")),this.device.feature.mixRgb.save().subscribe(()=>{this.initWithMixRgb()}))})};g()})}}getLedIndication(){this.device.feature.rgb.getLedIndication().subscribe(e=>{e.support&&(this.supportIndicate=!0,this.indication=e)})}scrollToBottom(){const e=this.scrollableDiv.nativeElement;e.scrollTop=e.scrollHeight}savePerkey(e,n){!this.perkeySubmit&&2!==n||(e.stopPropagation(),setTimeout(()=>{this.scrollToBottom()},500),this.perKeyRgbComponent&&this.perKeyRgbComponent.savePerkeyEffect(n))}tabChange(e){1===e.index&&(this.effectType=23),2===e.index&&(this.effectType=24)}changeTabEffect(e){e?(this.checkLightIdx=-1,this.perKeyRgbComponent.enableType=this.enableType,this.enableType=structuredClone(this.effectType),this.lightNormalComponent.effectChange(this.effectType,"effect"),23===this.effectType&&(this.mixRgbComponent.enableConfValue=!1,this.baseLayoutComponent.activeKey=[],this.selectKeys=[],this.selectKeys2=[],setTimeout(()=>{this.perKeyRgbComponent.rgbEffect()},500)),24===this.effectType&&(this.perKeyRgbComponent.isChangeEffect=!1,this.baseLayoutComponent.activeKey=[],this.selectKeys=[],this.selectKeys2=[],this.perKeyRgbComponent.enableConfValue=!1,setTimeout(()=>{this.mixRgbComponent.init()},500))):(this.enableType=-1,this.model.effect=0,this.lightNormalComponent.effectChange(0,"effect"),this.perKeyRgbComponent.isChangeEffect=!1,this.baseLayoutComponent.activeKey=[],this.selectKeys=[],this.selectKeys2=[])}checkLight(e,n,o){o&&o.stopPropagation(),this.initWithRgb(),this.checkLightIdx=n,this.selectKeys2=[...e.key],this.enableType=23,this.perKeyRgbComponent.opt=3,this.perKeyRgbComponent.isChangeEffect=!1;let c=new T.Il(e.color);if(this.perKeyRgbComponent.hsbColor=c,this.perKeyRgbComponent.color=`rgb(${c.r},${c.g},${c.b})`,e&&e.hsb){const{h:r,s:l,b:g}=e.hsb;this.perKeyRgbComponent.hsb={h:r,s:l,b:g}}else{const{h:r,s:l,b:g}=c.toHsb();this.perKeyRgbComponent.hsb={h:r,s:100*l,b:100*g}}this.selectKeys2.forEach(r=>{this.rgbConf[r.key.row][r.key.col].rgb=structuredClone(e.color)}),this.perKeyRgbComponent.colorTips=e.color}delLight(e,n){n.stopPropagation(),this.checkLightIdx=-1,this.perKeyRgbComponent.delLight(e)}cancelLight(){this.checkLightIdx=-1,this.selectKeys=[],this.selectKeys2=[],this.nowSelectKeyEffect=this.nowSelectKeyEffect.filter(e=>0!==e.key.length),this.updateNowSelectKeyEffect(this.nowSelectKeyEffect),setTimeout(()=>{this.initWithRgb()},1e3)}test(e){console.log("\u70b9\u51fb\u4e86",e),e.stopPropagation()}updateRgbConf(e){const n=e.item;23===this.effectType&&n.key&&Number(n.key.row)>=0&&Number(n.key.col)>=0&&(this.rgbConf[n.key.row][n.key.col].rgb=structuredClone(e.color),this.cdr.detectChanges())}layerEvent(){this.initWithRgb()}showResetAllKeysModal(){this.isVisible=!0}handleCancel(){this.isVisible=!1}handleOk(){this.perKeyRgbComponent.perkeyResetAll(),this.isVisible=!1}checkLights(e){const{index:n}=e;this.checkLightIdx=n}getKeyboardUniqueColor(e){const n=[];return e.forEach(o=>{o.forEach(c=>{null!==c.rgb&&(n.includes(c.rgb)||n.push(c.rgb))})}),n}hidConnectEvent(){this.keyboardService.event$.pipe((0,k.h)(e=>e.type===x.EEventEnum.CONNECT)).subscribe(e=>{this.hidDevices=this.keyboardService.getHidDevices(),this.getLightConf()}),this.keyboardService.event$.pipe((0,k.h)(e=>e.type===x.EEventEnum.DISCONNECT)).subscribe(()=>this.device=void 0),this.keyboardService.event$.pipe((0,k.h)(e=>e.type===x.EEventEnum.CLOSED)).subscribe(()=>{this.device=this.keyboardService.getCurrentHidDevice()})}hidDeviceInit(){const e=this.keyboardService.getCurrentHidDevice();if(!(e instanceof x.$D))return;const n={};console.log(this.i18n.instant("lights"));const o=this.i18n.instant("lights");Object.keys(o).forEach(r=>{Object.keys(o[r]).forEach(l=>{n[l]=o[r][l]})}),this.supportDecorate=e.definition.feature&&e.definition.feature.includes("DECORATE_LIGHT"),e instanceof x.$D&&(this.supportRgb=!!e.feature.rgb,(r=>{this.device=r,this.currentHidDeviceId=r.id,this.lightEffectEnums=this.device.getLightEffectList(),this.lightEffectEnums.forEach(l=>{if("brightness"===l.label&&(l.showIf="{id_qmk_rgb_matrix_effect} > 0"),"effect"===l.label){const g=l.conf.val||[];l.conf.val=g.map((a,s)=>{const p=a.label.replace(/\d\.?/g,"");return{label:n[p]?s+". "+n[p]:a.label,value:a.value}}),e.feature.rgb&&(g.find(a=>23===a.value)||l.conf.val.push({label:"23. Per Key Rgb",value:23}),this.rgbSupport=!0,this.getLedIndication()),e.feature.mixRgb&&(g.find(a=>24===a.value)||l.conf.val.push({label:"24. Mix Rgb",value:24}))}})})(e),this.initHidConf())}save(e){const n=(0,G.cloneDeep)(this.mixRgbConf);this.selectKeys.forEach(s=>n[s.row][s.col].region=this.layer);const o=n.flat().filter(s=>-1!==s.index),c=[o.shift(),...o.filter(s=>0!==s.index)].sort((s,p)=>s.index-p.index);let g=[];const a=(s,p,h)=>{if(s<=0)e?e():(this.msg.success(this.i18n.instant("notify.success")),this.device.feature.mixRgb.save().subscribe(()=>{this.initWithMixRgb()}));else{const m=Math.min(1,s),u=c.slice(p,p+m),_=this.device.feature.mixRgb.setLedRegion(u[0].index,u.map(C=>C.region)).subscribe(C=>{g=g.concat(C),a(s-m,p+m,h+1),_.unsubscribe()})}};a(c.length,0,1)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(z.E),t.Y36(O.sK),t.Y36(B.w),t.Y36(t.sBO),t.Y36(E.Sf))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["key-light-index"]],viewQuery:function(n,o){if(1&n&&(t.Gf(dt,5),t.Gf(pt,5),t.Gf(mt,5),t.Gf(ht,5),t.Gf(bt,5)),2&n){let c;t.iGM(c=t.CRH())&&(o.baseLayoutComponent=c.first),t.iGM(c=t.CRH())&&(o.perKeyRgbComponent=c.first),t.iGM(c=t.CRH())&&(o.lightNormalComponent=c.first),t.iGM(c=t.CRH())&&(o.mixRgbComponent=c.first),t.iGM(c=t.CRH())&&(o.scrollableDiv=c.first)}},decls:12,vars:17,consts:[[3,"body","keyAttach","keyEventDetect","left","mixRgbConf","mixRgbLayer","multi","nowEffect","preventKeyPress","right","selectAllKey","showLayerSelect","showLightKey","lightKeyTemplate","tip","press","pressAll"],["baseLayoutComponent",""],["lightKey",""],["keyAttach",""],["left",""],["right",""],["body",""],["class","rgb-key",3,"style",4,"ngIf"],["class","mix-rgb-region",3,"style",4,"ngIf"],[1,"rgb-key"],[1,"mix-rgb-region"],[2,"position","relative","height","100%"],["class","container-left","style","height: calc(100% - 5.4rem)",4,"ngIf"],["class","container-left",4,"ngIf"],["class","save save-position",4,"ngIf"],[1,"container-left",2,"height","calc(100% - 5.4rem)"],["scrollableDiv",""],["style","display: flex",4,"ngFor","ngForOf"],[2,"display","flex"],["class","delLight",3,"click",4,"ngIf"],[1,"left-item1",3,"ngClass","click"],[3,"ngStyle"],[1,"delLight",3,"click"],["nz-icon","","nzTheme","outline","nzType","close"],[1,"container-left"],[1,"left-item",3,"ngClass","click"],[1,"save","save-position"],[3,"ngClass","click"],["class","save",3,"ngClass",4,"ngIf"],["class","save",4,"ngIf"],[1,"save",3,"ngClass"],["class","allowedColor",3,"click",4,"ngIf"],[1,"allowedColor",3,"click"],[1,"save"],[3,"nzVisible","nzContent","nzFooter","nzOnCancel","nzVisibleChange"],["modalContent",""],["modalFooter",""],["class","save-show allowedColor",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"modalContent"],["nz-icon","","nzTheme","outline","nzType","exclamation-circle",2,"margin-right","4px"],["nz-button","","nzType","primary",1,"modalBtnConfirm",3,"click"],["nz-button","","nzType","default",1,"modalBtnCancel",3,"click"],[1,"save-show","allowedColor",3,"click"],["class","keyboard-opt-scroll g-scroll-bar",4,"ngIf"],["class","light-not-support",4,"ngIf"],[1,"keyboard-opt-scroll","g-scroll-bar"],[3,"nzSelectedIndex","nzSelectChange"],[3,"nzTitle"],[3,"device","lightEffectEnums","model","rgbConf","selectKeys","update"],["lightNormalComponent",""],[3,"nzTitle",4,"ngIf"],[3,"model","bComponent","checkLightIdx","device","enableType","nowSelectKeyEffect","rgbConf","selectKeys2","selectKeys","cancelLight","checkLight","enableEffect","layerEvent","update","updateNowSelectKeyEffect","updateRgbConf"],["perKeyRgbComponent",""],[3,"device","enableType","lightEffectEnums","matrix","region","enableEffect","profile"],["mixRgbComponent",""],[3,"device","indication"],[1,"light-not-support"]],template:function(n,o){if(1&n&&(t.TgZ(0,"base-layout",0,1),t.NdJ("press",function(r){return o.selectKey(r)})("pressAll",function(r){return o.selectKey2(r)}),t.YNc(2,_t,0,0,"ng-template",null,2,t.W1O),t.YNc(4,yt,2,2,"ng-template",null,3,t.W1O),t.YNc(6,Lt,4,3,"ng-template",null,4,t.W1O),t.YNc(8,Dt,2,2,"ng-template",null,5,t.W1O),t.YNc(10,Bt,2,2,"ng-template",null,6,t.W1O),t.qZA()),2&n){const c=t.MAs(3),r=t.MAs(5),l=t.MAs(7),g=t.MAs(9),a=t.MAs(11);t.Q6J("body",a)("keyAttach",r)("keyEventDetect",!1)("left",l)("mixRgbConf",o.mixRgbConf)("mixRgbLayer",o.layer)("multi",!0)("nowEffect",o.model.effect)("preventKeyPress",!t.DdM(15,qt).includes(o.model.effect)||t.DdM(16,Wt).includes(o.tabSelectIndex))("right",g)("selectAllKey",o.selectAllKey)("showLayerSelect",!1)("showLightKey",!0)("lightKeyTemplate",c)("tip",!1)}},dependencies:[q.Ls,W.ix,$.w,X.dQ,E.du,M.mk,M.sg,M.O5,M.PC,L.xH,L.xw,tt.i,et.z,nt.n,ot.t,it.l,ft,O.X$],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-user-select:none;user-select:none;min-width:400px;min-height:1000px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:none;border-radius:1px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#535353;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#424242}.g-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;height:10px}.g-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:1px;background:none}.g-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;background:#535353}.g-scroll-bar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:window-inactive{background:rgba(128,128,128,.4)}.g-flex[_ngcontent-%COMP%]{display:flex}.g-block[_ngcontent-%COMP%]{display:block}.g-none[_ngcontent-%COMP%]{display:none}.g-flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.g-flex-row[_ngcontent-%COMP%]{flex-direction:row}.g-flex-col[_ngcontent-%COMP%]{flex-direction:column}.g-item-center[_ngcontent-%COMP%]{align-items:center}.g-item-start[_ngcontent-%COMP%]{align-items:flex-start}.g-item-end[_ngcontent-%COMP%]{align-items:flex-end}.g-item-stretch[_ngcontent-%COMP%]{align-items:stretch}.g-justify-start[_ngcontent-%COMP%]{justify-content:flex-start}.g-justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.g-justify-center[_ngcontent-%COMP%]{justify-content:center}.g-justify-between[_ngcontent-%COMP%]{justify-content:space-between!important}g-justify-stretch[_ngcontent-%COMP%]{justify-content:stretch}.g-overflow-auto[_ngcontent-%COMP%]{overflow:auto}.scroll-container[_ngcontent-%COMP%]{height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column}.scroll-container[_ngcontent-%COMP%] > .scroll-content[_ngcontent-%COMP%]{flex:1 1 0;height:0;overflow:auto}  .anticon-down{color:#fff}  .ant-select{font-size:.765rem;min-width:80px!important}  .ant-select-item{color:#fff!important;padding:.176rem .588rem;font-size:.765rem;height:1.765rem!important}  .ant-select-dropdown{background:#182533!important;border:none!important;color:#fff!important}  .ant-select-selector{background:#979797!important;border:none!important;color:#fff!important;height:1.765rem!important;padding:0 .588rem!important}  .ant-select-single .ant-select-selector .ant-select-selection-item,   .ant-select-single .ant-select-selector .ant-select-selection-placeholder{line-height:1.765rem}  .ant-select-item-option-selected,   .ant-select-item-option-active{background:#6c5dd2!important;color:#fff!important}  .cdk-virtual-scrollable{min-height:1.765rem!important;max-height:21.765rem}  .ant-tabs{width:100%;height:100%;-webkit-user-select:none;user-select:none}  .ant-tabs-ink-bar{display:none}  .ant-tabs-top>.ant-tabs-nav:before{display:none}  .ant-tabs-tab{padding:1.28rem 0}  .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:#151718!important;background:#f3f3f3!important}  .ant-tabs-tab+.ant-tabs-tab{margin-left:.64rem!important}  .ant-tabs-tab-btn{color:#ccc;padding:.21rem 1.93rem!important;border-radius:5px;font-size:.824rem;border:1px solid #2b2f30;position:relative}  .ant-tabs-nav{margin-bottom:0!important}  .ant-tabs-content{height:100%}  .ant-slider-handle{border-color:#2b2f30!important;background:#ff7249!important}  .ant-slider-track{background-color:#ff7249!important}  .ant-popover-inner{background:rgb(24,37,51)}  .ant-color-picker-input-container{display:none!important}  .ant-color-picker-slider-container{margin-bottom:8px}  .ant-color-picker-slider-container .ant-color-picker-color-block,   .ant-color-picker-slider-container .ant-color-picker-alpha-input{display:none!important}  .ant-color-picker-inline,   .ant-color-picker-color-block{width:1.882rem!important;height:1.882rem!important}  .ant-color-picker-panel{width:14.118rem!important}  .ant-color-picker-select .ant-color-picker-palette{min-height:9.412rem}  .ant-color-picker-slider .ant-color-picker-palette{height:.86rem}  .ant-color-picker-slider-alpha{display:none}  .ant-color-picker-handler-sm{width:1.28rem;height:1.28rem}  .ant-switch-checked{background:#ff7249}  .ant-switch{font-size:.765rem;border-radius:10.71rem}  .ant-switch-small{min-width:1.588rem;height:15px;line-height:15px}  .ant-switch-small .ant-switch-handle{width:.706rem;height:.706rem;top:.133rem}  .ant-switch-small .ant-switch-inner{margin:0 .54rem 0 .882rem;font-size:.647rem}  .ant-switch-handle:before{border-radius:.96rem;box-shadow:0 .21rem .43rem #00230b33}  .ant-switch-small.ant-switch-checked .ant-switch-inner{margin:0 1rem 0 .294rem}  .ant-switch-small.ant-switch-checked .ant-switch-handle{left:calc(100% - .882rem)}.global-table-wrapper[_ngcontent-%COMP%]{padding:40px}  .ant-table-thead>tr>th,   .ant-table,   .ant-table-tbody>tr.ant-table-placeholder:hover>td{background:rgb(24,37,51)!important;border-bottom-color:#6c5dd2!important;color:#fefefe}  .ant-empty-description{color:#fefefe}  .ant-table-tbody>tr>td,   .ant-table-tbody>tr.ant-table-placeholder:hover>td{border-bottom-color:transparent!important}  .ant-table-tbody>tr.ant-table-row:hover>td,   .ant-table-tbody>tr>td.ant-table-cell-row-hover{background:#151718}  .ant-progress{line-height:0}  .ant-progress-bg{height:.471rem}  .ant-progress-line{font-size:1.5rem}  .ant-btn-sm{height:2.57rem;padding:0 .75rem;font-size:1.5rem}  .ant-radio-wrapper,   .ant-radio-disabled+span{color:#747474}  .ant-radio-inner{background:#151718!important;border-color:#2b2f30!important}  .ant-radio-checked .ant-radio-inner:after{display:none!important}  .ant-radio-checked .ant-radio-inner{border-color:#ff7249!important;border-width:.32rem}  .ant-checkbox-wrapper,   .ant-checkbox-disabled+span{color:#747474}  .ant-checkbox+span{color:#747474;outline:none}  .ant-checkbox-inner{background-color:#151718;border-color:#252a2a}  .ant-checkbox-inner:focus{border-color:#fff!important}  .ant-checkbox-wrapper:hover .ant-checkbox-inner,   .ant-checkbox:hover .ant-checkbox-inner,   .ant-checkbox-input:focus+.ant-checkbox-inner{border-color:#252a2a}  .ant-checkbox:hover:after,   .ant-checkbox-wrapper:hover .ant-checkbox:after{border:none}  .ant-checkbox-checked .ant-checkbox-inner{background-color:#ff7249;border-color:#ff7249}  .ant-modal-header,   .ant-modal-content{background:#8c8c8c!important}  .ant-modal-title{color:#fff;text-align:center}  .ant-modal-close-x{display:none}  .ant-modal-header{border-color:#c0c1c3}  .ant-modal-footer{border-color:#8c8c8c}  .ant-pagination-item-link{color:#ccc!important}  .ant-popover-message-title{color:#ccc}.g-shining[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_g-shining-animate;animation-timing-function:linear;animation-iteration-count:infinite;animation-duration:2s}@keyframes _ngcontent-%COMP%_g-shining-animate{0%{opacity:1;border:1px solid #ff7249}50%{opacity:.3;border:1px solid #ff7249}to{opacity:1;border:1px solid #ff7249}}  .ant-radio-wrapper,   .ant-radio{font-size:.765rem}  .ant-modal-confirm-body .ant-modal-confirm-content{color:#ccc}  .ant-tooltip-inner{min-width:1.765rem;min-height:1.882rem;padding:.353rem .471rem;font-size:.824rem}  .ant-message,   .ant-message .anticon{font-size:1.059rem}  .ant-message-notice{padding:.471rem}  .ant-message-notice-content{padding:.588rem .941rem}  .ant-btn-sm{height:1.57rem;padding:0 .75rem;font-size:1rem}.tutorialTip[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{background:none!important;padding:0!important}@media only screen and (max-width: 1920px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-size:15px}}@media only screen and (min-width: 1921px){html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-size:18px}}@media only screen and (max-width: 780px){.resolution-hide[_ngcontent-%COMP%]{display:none!important}}.tip-class[_ngcontent-%COMP%]   .ant-tooltip-inner[_ngcontent-%COMP%]{width:500px!important;background:#393C41!important}.g-btn-blue[_ngcontent-%COMP%]{background:#007cf9;color:#fff;padding:5px 10px;border-radius:5px;cursor:pointer;transition:all .2s linear;opacity:1}.g-btn-blue[_ngcontent-%COMP%]:hover{opacity:.5}.g-btn-orange[_ngcontent-%COMP%]{background:#ff7249;color:#fff;padding:5px 10px;border-radius:5px;cursor:pointer;transition:all .2s linear;opacity:1}.g-btn-orange[_ngcontent-%COMP%]:hover{opacity:.5}.g-confirm-normal[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%]{font-size:1.333rem;display:flex;flex-direction:row;justify-content:left;align-items:center}.g-confirm-normal[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(1){color:#fff;font-size:1.667rem;margin-right:1.067rem}.g-confirm-normal[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2){color:#fff}.g-confirm-normal[_ngcontent-%COMP%] > .g-confirm-success-body[_ngcontent-%COMP%]{margin-top:1.067rem;margin-left:2.867rem;box-sizing:border-box;color:#fff}.g-confirm-success[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%]{font-size:1.333rem;display:flex;flex-direction:row;justify-content:left;align-items:center}.g-confirm-success[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(1){color:#00fe44;font-size:1.667rem;margin-right:1.067rem}.g-confirm-success[_ngcontent-%COMP%]   .g-confirm-success-title[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-of-type(2){color:#fff}.g-confirm-success[_ngcontent-%COMP%] > .g-confirm-success-body[_ngcontent-%COMP%]{margin-top:1.067rem;margin-left:2.867rem;box-sizing:border-box;color:#fff}.g-confirm-notification[_ngcontent-%COMP%]{border-radius:1rem;padding:0 22px}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-content[_ngcontent-%COMP%]{border-radius:1rem}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-content[_ngcontent-%COMP%] > .g-confirm-notification-title[_ngcontent-%COMP%]{font-size:1.333rem;display:flex;justify-content:center;color:#fff;font-weight:600;border-bottom:1px solid #ccc;padding-bottom:10px}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-content[_ngcontent-%COMP%] > .g-confirm-notification-body[_ngcontent-%COMP%]{margin:2.3rem .666rem 0;box-sizing:border-box;color:#fff}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-footer[_ngcontent-%COMP%]{padding:.666rem 0}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-footer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{border-radius:1rem}.g-confirm-notification[_ngcontent-%COMP%]   .g-confirm-notification-footer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:last-child{margin-left:1rem}.g-confirm-notification[_ngcontent-%COMP%]   .ant-modal-content[_ngcontent-%COMP%]{border-radius:1rem}.g-confirm-notification[_ngcontent-%COMP%]   .ant-modal-close-x[_ngcontent-%COMP%]{display:block!important;color:#fff;font-size:20px}.g-text-overflow[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.keyboard-opt-scroll[_ngcontent-%COMP%]{overflow-y:scroll;flex:1 1 0;width:100%;min-height:100%}.rgb-key[_ngcontent-%COMP%]{position:absolute;z-index:9;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:4px;border-style:solid;border-radius:5px}.mix-rgb-region[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;align-items:center;flex-direction:row;justify-content:center;width:100%;height:100%;opacity:.3;border-radius:5px}.container-left[_ngcontent-%COMP%]{position:absolute;z-index:50;right:1rem;bottom:2rem;display:flex;overflow:auto;align-items:flex-end;flex-direction:column;justify-content:flex-start;width:8rem;height:75%}.container-left[_ngcontent-%COMP%]   .left-item[_ngcontent-%COMP%]{font-size:.765rem;display:flex;align-items:center;flex-direction:row;justify-content:space-between;max-width:6rem;margin:.294rem;padding:.588rem;cursor:pointer;transition:all .3s ease-in-out;opacity:1;color:#fff;border-radius:5px;background:#747474}.container-left[_ngcontent-%COMP%]   .left-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;flex:1 1 0;flex-direction:row;justify-content:flex-start;height:100%}.container-left[_ngcontent-%COMP%]   .left-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;width:0;min-width:100%;white-space:nowrap;text-overflow:ellipsis}.container-left[_ngcontent-%COMP%]   .left-item1[_ngcontent-%COMP%]{font-size:.765rem;display:flex;align-items:center;flex-direction:row;justify-content:space-between;width:6rem;margin:.294rem;cursor:pointer;transition:all .3s ease-in-out;opacity:1;color:#747474;border-radius:5px;background:#fff}.container-left[_ngcontent-%COMP%]   .left-item1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){overflow:hidden;width:100%;margin:.5rem;text-align:center;white-space:nowrap;text-overflow:ellipsis}.container-left[_ngcontent-%COMP%]   .left-item1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){width:1rem;height:100%;border-top-right-radius:5px;border-bottom-right-radius:5px}.container-left[_ngcontent-%COMP%] > .left-item-active[_ngcontent-%COMP%]{transform:translate(-.588rem);background:#FF8040!important}.container-left[_ngcontent-%COMP%] > .left-item-active-purple[_ngcontent-%COMP%]{transform:translate(-.588rem);background:#6c5dd2!important}.container-left[_ngcontent-%COMP%]   .left-item-active-checkLight[_ngcontent-%COMP%]{transform:translate(-.2rem);scale:1.05}.hidden-element[_ngcontent-%COMP%]{display:none}.save-show[_ngcontent-%COMP%]{cursor:not-allowed!important}.allowedColor[_ngcontent-%COMP%]{background:rgb(255,114,73);color:#fff;opacity:1}.notAllowedColor[_ngcontent-%COMP%]{background:rgb(116,116,116);color:#fff3}.save[_ngcontent-%COMP%]{position:relative;top:0;right:-.588rem;display:flex;align-items:flex-start;flex-direction:column;justify-content:flex-end;box-sizing:border-box;width:5.333rem;height:100%}.save[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:.765rem;width:100%;padding:.294rem 0;cursor:pointer;transition:all .3s ease-in-out;text-align:center;opacity:1;border-radius:5px}.save[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.64rem}.save[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{opacity:.5}.save-position[_ngcontent-%COMP%]{position:absolute;right:8px;bottom:0}.save2[_ngcontent-%COMP%]{position:relative;display:flex;visibility:hidden;align-items:flex-end;flex-direction:column;justify-content:flex-end;box-sizing:border-box;width:100%;height:2rem}.save2[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:.765rem;width:5.333rem;margin-right:6px;padding:.294rem 0;cursor:pointer;transition:all .3s ease-in-out;text-align:center;opacity:1;color:#f3f3f3;border-radius:5px;background-color:#ff7249}.save2[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.64rem}.save2[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{opacity:.5}.delLight[_ngcontent-%COMP%]{font-size:12px;color:#fff}.delLight[_ngcontent-%COMP%]:hover{cursor:pointer;scale:1.05}.modalContent[_ngcontent-%COMP%]{color:#f3f3f3}.modalBtnConfirm[_ngcontent-%COMP%]{color:#f3f3f3;min-width:100px;border-radius:6px}.modalBtnCancel[_ngcontent-%COMP%]{background-color:#ff7249;color:#f3f3f3;border-radius:6px;border-color:transparent;min-width:100px}']})}return i})()}];let Xt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#n=this.\u0275inj=t.cJS({imports:[N.G,J.Bz.forChild($t)]})}return i})()}}]);